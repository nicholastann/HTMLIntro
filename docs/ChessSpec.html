<!DOCTYPE html>  <html> <head>   <title>ChessSpec.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="ChessSpec.html">                 ChessSpec.js               </a>                                           <a class="source" href="chess.html">                 chess.js               </a>                                           <a class="source" href="game.html">                 game.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               ChessSpec.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Ephox Job Application Entry
Test Suite
(c) 2011 Thomas Davis <a href="m&#97;&#x69;&#108;&#x74;&#x6F;:&#116;&#x68;&#x6F;&#x6D;&#97;&#115;&#x61;&#108;&#119;&#121;n&#x64;&#x61;&#x76;&#x69;&#115;&#x40;&#103;&#x6D;&#97;&#105;&#108;&#x2E;&#x63;&#x6F;&#109;">&#116;&#x68;&#x6F;&#x6D;&#97;&#115;&#x61;&#108;&#119;&#121;n&#x64;&#x61;&#x76;&#x69;&#115;&#x40;&#103;&#x6D;&#97;&#105;&#108;&#x2E;&#x63;&#x6F;&#109;</a>
http://thomasdavis.github.com/chess/</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;ChessBoard&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">chessboard</span><span class="p">;</span>
  
	<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when a new chessboard has been created&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
		
		<span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">chessboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ChessBoard</span><span class="p">();</span>
		<span class="p">});</span>
		
	    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should indicate there is a fully set board&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">positions</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span> <span class="p">{</span> <span class="nx">A8</span> <span class="o">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="nx">B8</span> <span class="o">:</span> <span class="s1">&#39;BKN&#39;</span><span class="p">,</span> <span class="nx">C8</span> <span class="o">:</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="nx">D8</span> <span class="o">:</span> <span class="s1">&#39;BK&#39;</span><span class="p">,</span> <span class="nx">E8</span> <span class="o">:</span> <span class="s1">&#39;BQ&#39;</span><span class="p">,</span> <span class="nx">F8</span> <span class="o">:</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="nx">G8</span> <span class="o">:</span> <span class="s1">&#39;BKN&#39;</span><span class="p">,</span> <span class="nx">H8</span> <span class="o">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="nx">A7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">B7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">C7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">D7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">E7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">F7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">G7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">H7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">A2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">B2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">C2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">D2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">E2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">F2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">G2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">H2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">A1</span> <span class="o">:</span> <span class="s1">&#39;WR&#39;</span><span class="p">,</span> <span class="nx">B1</span> <span class="o">:</span> <span class="s1">&#39;WKN&#39;</span><span class="p">,</span> <span class="nx">C1</span> <span class="o">:</span> <span class="s1">&#39;WB&#39;</span><span class="p">,</span> <span class="nx">D1</span> <span class="o">:</span> <span class="s1">&#39;WK&#39;</span><span class="p">,</span> <span class="nx">E1</span> <span class="o">:</span> <span class="s1">&#39;WQ&#39;</span><span class="p">,</span> <span class="nx">F1</span> <span class="o">:</span> <span class="s1">&#39;WB&#39;</span><span class="p">,</span> <span class="nx">G1</span> <span class="o">:</span> <span class="s1">&#39;WKN&#39;</span><span class="p">,</span> <span class="nx">H1</span> <span class="o">:</span> <span class="s1">&#39;WR&#39;</span> <span class="p">});</span>
		<span class="p">});</span>
		
		<span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should indicate pieces are in the correct places using a lookup&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;A8&quot;</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span> <span class="s2">&quot;BR&quot;</span> <span class="p">);</span>
			
		<span class="p">});</span>
		<span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should have empty positions&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;A5&quot;</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span> <span class="s2">&quot;empty&quot;</span> <span class="p">);</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;A6&quot;</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span> <span class="s2">&quot;empty&quot;</span> <span class="p">);</span>
		<span class="p">});</span>
		
		<span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should move pieces correctly&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">piece1</span> <span class="o">=</span> <span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;A8&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Move A8 To B8</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">chessboard</span><span class="p">.</span><span class="nx">changePosition</span><span class="p">(</span> <span class="s2">&quot;A8&quot;</span><span class="p">,</span> <span class="s2">&quot;B8&quot;</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">piece2</span> <span class="o">=</span> <span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;B8&quot;</span><span class="p">)</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">piece1</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">piece2</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Old position should be empty</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">expect</span><span class="p">(</span> <span class="nx">chessboard</span><span class="p">.</span><span class="nx">lookupPosition</span><span class="p">(</span><span class="s2">&quot;A8&quot;</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;empty&quot;</span><span class="p">);</span>
		<span class="p">});</span>
	<span class="p">})</span>
	
  	<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when a chessboard is reset&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
		
		<span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">chessboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ChessBoard</span><span class="p">(</span> <span class="p">{</span> <span class="nx">A8</span> <span class="o">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="nx">B8</span> <span class="o">:</span> <span class="s1">&#39;BKN&#39;</span><span class="p">,</span> <span class="nx">C8</span> <span class="o">:</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="nx">D8</span> <span class="o">:</span> <span class="s1">&#39;BK&#39;</span> <span class="p">}</span> <span class="p">);</span>
			<span class="nx">chessboard</span><span class="p">.</span><span class="nx">changePosition</span><span class="p">(</span> <span class="s2">&quot;A8&quot;</span><span class="p">,</span> <span class="s2">&quot;B8&quot;</span><span class="p">);</span>
			<span class="nx">chessboard</span><span class="p">.</span><span class="nx">resetBoard</span><span class="p">();</span>
		<span class="p">});</span>
		
	    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should indicate there is a fully set board&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">positions</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span> <span class="p">{</span> <span class="nx">A8</span> <span class="o">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="nx">B8</span> <span class="o">:</span> <span class="s1">&#39;BKN&#39;</span><span class="p">,</span> <span class="nx">C8</span> <span class="o">:</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="nx">D8</span> <span class="o">:</span> <span class="s1">&#39;BK&#39;</span><span class="p">,</span> <span class="nx">E8</span> <span class="o">:</span> <span class="s1">&#39;BQ&#39;</span><span class="p">,</span> <span class="nx">F8</span> <span class="o">:</span> <span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="nx">G8</span> <span class="o">:</span> <span class="s1">&#39;BKN&#39;</span><span class="p">,</span> <span class="nx">H8</span> <span class="o">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="nx">A7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">B7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">C7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">D7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">E7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">F7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">G7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">H7</span> <span class="o">:</span> <span class="s1">&#39;BP&#39;</span><span class="p">,</span> <span class="nx">A2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">B2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">C2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">D2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">E2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">F2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">G2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">H2</span> <span class="o">:</span> <span class="s1">&#39;WP&#39;</span><span class="p">,</span> <span class="nx">A1</span> <span class="o">:</span> <span class="s1">&#39;WR&#39;</span><span class="p">,</span> <span class="nx">B1</span> <span class="o">:</span> <span class="s1">&#39;WKN&#39;</span><span class="p">,</span> <span class="nx">C1</span> <span class="o">:</span> <span class="s1">&#39;WB&#39;</span><span class="p">,</span> <span class="nx">D1</span> <span class="o">:</span> <span class="s1">&#39;WK&#39;</span><span class="p">,</span> <span class="nx">E1</span> <span class="o">:</span> <span class="s1">&#39;WQ&#39;</span><span class="p">,</span> <span class="nx">F1</span> <span class="o">:</span> <span class="s1">&#39;WB&#39;</span><span class="p">,</span> <span class="nx">G1</span> <span class="o">:</span> <span class="s1">&#39;WKN&#39;</span><span class="p">,</span> <span class="nx">H1</span> <span class="o">:</span> <span class="s1">&#39;WR&#39;</span> <span class="p">});</span>
		<span class="p">});</span>
		
	<span class="p">})</span> 
	<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;when an empty chessboard has been created&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
		
		<span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">empty</span> <span class="o">=</span> <span class="p">{};</span>
			<span class="nx">chessboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ChessBoard</span><span class="p">(</span> <span class="nx">empty</span> <span class="p">);</span>
		<span class="p">});</span>
		
	    <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should indicate there are no pieces on the board&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">expect</span><span class="p">(</span><span class="nx">chessboard</span><span class="p">.</span><span class="nx">positions</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">({});</span>
		<span class="p">});</span>
	<span class="p">})</span>

<span class="p">});</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 